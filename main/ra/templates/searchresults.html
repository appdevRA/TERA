<!DOCTYPE html>
{% load static %}
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <style type="text/css">
      table {
        border-collapse: collapse;
        width: 70%;
      }

      th, td {
        text-align: left;
        padding: 8px;
      }

      tr:nth-child(even) {background-color: #f2f2f2;}
    </style>

</head>
<style>
  .filterbutton {
  border: none;
  background: #f2f2f2;
  color: black;
  font-weight: lighter;
  padding: 10px 10px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 2px 2px;
  cursor: pointer;
}
  .filterbutton:hover{
  color: red;
}
/* The container */
.container {
  display: block;
  position: relative;
  padding-left: 35px;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Hide the browser's default radio button */
.container input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
}

/* Create a custom radio button */
.checkmark {
  position: absolute;
  top: 2;
  left: 5px;
  height: 15px;
  width: 15px;
  background-color: #eee;
  border-radius: 50%;
}

/* On mouse-over, add a grey background color */
.container:hover input ~ .checkmark {
  background-color: #ffd700;
}

/* When the radio button is checked, add a maroon background */
.container input:checked ~ .checkmark {
  background-color: #800000;
}

/* Create the indicator (the dot/circle - hidden when not checked) */
.checkmark:after {
  content: "";
  position: absolute;
  display: none;
}

/* Show the indicator (dot/circle) when checked */
.container input:checked ~ .checkmark:after {
  display: block;
}

/* Style the indicator (dot/circle) */
.container .checkmark:after {
  top: 4px;
  left: 4px;
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background: white;
}
</style>
</style>
<body style="background-color: #f3f3f3">
     <nav>
      <div class="logo"><a href="{% url 'ra:index_view'%}"><img class="logo-style" src="{% static 'images/teralogo.png' %}"></a></div>
      <label for="btn" class="icon">
        <span class=></span>
      </label>
      <ul>     
      <li>
                <a href="#">My Account <i class="fa fa-user" aria-hidden="true"></i></a>
                
                <ul>
                <li><a href="{% url 'ra:tera_dashboard_view'%}">Dashboard</a></li>  
                <li><a href="{% url 'ra:tera_account_settings'%}">Settings</a></li>
                <li><a href="#modalLogoutForm" data-toggle="modal" data-target="#modalLogoutForm" >Logout </a></li>
                </ul>
      </li>
      </ul>
  </nav>

    
      
      <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3" style=" margin-left: 25px">
          <div class="main-menu" >
            <br>
            <br>
            <br>
            <br>
            <br>
            
         <!--  <h4>Site Filter</h4>
          <div class="left-side-bar">
            <ul>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" checked="checked" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
             <li class="site-filter container"> Lorem ipsum dolorem.<input type="radio" name="radio"><span class="checkmark"></span></li>
              
              
 
            </ul>
          </div> -->
          </div>
        </div>
        <br><br>
        <div class="col-sm-6">
          <div class="wrapper">
          <div class="main_content">
          <div class="header">
                      <div class="search-container">
                        <div >
                           <form id= "form1" action = "" method = "POST" autocomplete = "off" enctype="multipart/form-data">
                            {% csrf_token %}
                            <input type="text" placeholder="" name = "searchbar" class="input" value="{{ keyword }}" style="width: 192%; height: 120%; margin-left: -80%; border-color: #f3f3f3; background-color: #f3f3f3"><hr style="width: 197%; margin-left: -72%; height: 1px; background-color: #6b6b6c; margin-top: -1.5%;">
                            <button type="submit" class="button" style=" margin-top: .5%; margin-right: 60% ;background: none "  name="btnSearchbar" id="btnSearchbar" >
                              <i class="fa fa-search" aria-hidden="true" style=" margin-left: ; margin-top: 13%; border-bottom-color: #ff0000"></i></button>
                          </form>
                        </div>
                      </div>
                  </div>  
         
      </div>
          
           <form id= "form1" action = "" method = "POST" autocomplete = "off" enctype="multipart/form-data">
            {% csrf_token %}

          <button type="submit" class="filterbutton" name="btnArticles" id="btnArticles" > All</button>
           <input type="button" class="filterbutton" value="|">

          <button type="submit" class="filterbutton" name="btnArticles" id="btnArticles" > Articles</button>
           <input type="button" class="filterbutton" value="|">

          <button type="submit" class="filterbutton" name="btnJournal" id="btnJournal" > Journals</button>
            <input type="button" class="filterbutton" value="|" >

          <button type="submit" class="filterbutton" name="btnBook" id="btnBook" > Book</button>
            <input type="button" class="filterbutton" value="|">
            
           
            <input type="button" class="filterbutton" value="Dissertations">
             <input type="hidden" class="filterbutton" name = "search" value="{{keyword}}">
             <input id="userid" value="{{id}}" hidden="true">
           </form>
         
          <div class="wrapper">
       <div class="main_content">
          <div class="header" ><br><br><br><br><br><br>
                <h4><em> Search results for <a>{{keyword}}</a></em> </h4>  
                  <table class="table" id="itemTable">
                    <thead>
                      <tr>
                        <th></th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody id="itemArea">
                     
                    </tbody>
                  </table>
                </div>
            </div>
            </div>
          </div>
          </div>
                 
             
            </div>  
          </div>
      </div>
    </div>

    <div class="right-tab" style="border-left:2px"></div>


        <!-- <div class="header">All</div> -->
        
    </div>

      
    
</body>

</html>




<script type="text/javascript">
  var markers = {{results|safe}}
  var links = {{links|safe}}
 user_id = "{{user_id}}"

  $(document).ready(function($) {
    console.log(links)
   // <tr>
   //                      <td><a href="#"><span style="display:inline-block;white-space: nowrap;overflow: hidden;text-overflow: ellipsis; max-width: 70ch;"><strong>The New Era of Modern Technology The New Era of Modern Technology The New Era of Modern Technology The New Era of Modern Technology The New Era of Modern Technology The New Era of Modern Technology </strong></span></a><br>
   //                      <em>This is a sample description.</em><br>
   //                      <em>This is a sample description.</em><br>
   //                      <em>This is a sample description.</em><br>
   //                      <em>This is a sample description.</em><br>
   //                      <em>This is a sample description. This is a sample description.This is a sample description.This is a sample description.This is a sample description.This is a sample description.This is a sample description.This is a sample description.This is a sample description.</em><br>
   //                      </td>
   //                      <td><a href="#"><i class="fa fa-bookmark"></i></a></td>
   //                    </tr>




  for(i=0; i< markers.length;i++){
  
    
      if(markers[i].length == 2){
           console.log(markers[i].length)
            if(user_id == 'True'){
              $('#itemArea').append(
                    "<tr> " +
               "<td><a href='"+ links[i]+"'><span style='display:inline-block;white-space: nowrap;overflow: hidden;text-overflow: ellipsis; max-width: 70ch;font-size: 115%'><strong>" +
                    markers[i][0] + "</strong></span></a><br>" +

                    " <em>"+ markers[i][1]+"</em><br><br></td>" +

                      "<td><a class='btnBookmark' > <i id='{{type}}||{{column}}||{{link}}'class='fa fa-bookmark' style='color: red;' onClick='reply_click(this.id)'></i></a> </td>"+ "</tr>" );  
            } else{
              $('#itemArea').append(
                    "<tr> " +
               "<td><a href='"+ links[i]+"'><span style='display:inline-block;white-space: nowrap;overflow: hidden;text-overflow: ellipsis; max-width: 70ch;'><strong>" +
                    markers[i][0] + "</strong></span></a><br>" +

                    " <em>"+ markers[i][1]+"</em><br><br></td>" +

                      "<td><a class='btnBookmark' >  <i href='#modalLogoutForm' data-toggle='modal' data-target='#modalLogoutForm'style='color: red;'class='fa fa-bookmark'></i></a> </td><br><br>  "+ "</tr>" );  
            }







        } else if(markers[i].length == 3){
          alert('3')
            if(user_id == 'True'){
              $('#itemArea').append(
                    "<tr> " +
               "<td><a href='"+ links[i]+"'><span style='display:inline-block;white-space: nowrap;overflow: hidden;text-overflow: ellipsis; max-width: 70ch;font-size: 120%'><strong>" +
                    markers[i][0] + "</strong></span></a><br>" +

                    " <area>"+ markers[i][1]+"</area><br>" +
                     " <a>"+ markers[i][2]+"</a><br><br></td>" +

                      "<td><a class='btnBookmark' > <i id='{{type}}||{{column}}||{{link}}'class='fa fa-bookmark' style='color: red;' onClick='reply_click(this.id)'></i></a> </td></tr>" );  
            } else{
              $('#itemArea').append(
                    "<tr> " +
               "<td><a href='"+ links[i]+"'><span style='display:inline-block;white-space: nowrap;overflow: hidden;text-overflow: ellipsis; max-width: 70ch;font-size: 120%'><strong>" +
                    markers[i][0] + "</strong></span></a><br>" +

                    " <em>"+ markers[i][1]+"</em><br>" +
                     " <em>"+ markers[i][2]+"</em><br><br></td>" +

                      "<td><a class='btnBookmark' >  <i href='#modalLogoutForm' data-toggle='modal' data-target='#modalLogoutForm'style='color: red;'class='fa fa-bookmark'></i></a> </td></tr>" );  
            }







        }  else if(markers[i].length == 4){
            alert('4')
            if(user_id == 'True'){
              console.log(markers[i][3])
              $('#itemArea').append(
                    "<tr> " +
               "<td ><a href='"+ links[i]+"'><span style='display:inline-block;white-space: nowrap;overflow: hidden;text-overflow: ellipsis; max-width: 80ch; font-size: 120%'><strong>" +
                    markers[i][0] + "</strong></span></a><br> " +

                    " <area style=' font-size: 120%;  max-width: 60ch;'>"+ markers[i][1]+"</area><br>" +
                     " <em>"+ markers[i][2]+"</em><br>" +
                     " <area>"+ markers[i][3]+"</area><br><br></td>" +

                      "<td><a class='btnBookmark' > <i id='{{type}}||{{column}}||{{link}}'class='fa fa-bookmark' style='color: red;' onClick='reply_click(this.id)'></i> </td>"+ "</tr> " );  
            } else{
              $('#itemArea').append(
                    "<tr> " +
               "<td><a href='"+ links[i]+"'><span style='display:inline-block;white-space: nowrap;overflow: hidden;text-overflow: ellipsis; max-width: 70ch;'><strong>" +
                    markers[i][0] + "</strong></span></a><br>" +

                    " <area>"+ markers[i][1]+"</area><br>" +
                     " <em>"+ markers[i][2]+"</em><br>" +
                     " <em>"+ markers[i][3]+"</em><br><br></td>" +

                      "<td><a class='btnBookmark' >  <i href='#modalLogoutForm' data-toggle='modal' data-target='#modalLogoutForm'style='color: red;'class='fa fa-bookmark'></i></a> </td>"+ "</tr> <br><br>" );  
            }
        }            
                                
               
        



               

               
                
        }
       




});

function reply_click(clicked_id){
      alert('olok')
        // $.ajax({
        //               type:"POST",
        //               url:"",

        //               data:{
        //                 link: clicked_id,
        //                 csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val()
        //               }
        // });      
}
</script>
